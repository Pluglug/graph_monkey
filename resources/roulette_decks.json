{
  "$schema": "./roulette_schema.json",
  "version": "1.1",
  "description": "日常動作アニメーション練習用ルーレットのデッキ定義（ビート・レイアウト対応）",

  "categories": {
    "transition": "姿勢の遷移",
    "manipulate": "物を扱う動作",
    "weight": "重心・バランス",
    "idle": "待機・聞く",
    "semi_sport": "軽い運動系",
    "sequence": "シーケンス・複合"
  },

  "moods": {
    "neutral": {"label": "ニュートラル", "weight": 3},
    "tired": {"label": "疲れている", "weight": 2},
    "rushed": {"label": "少し急いでいる", "weight": 2},
    "annoyed": {"label": "イラつきを抑えている", "weight": 1},
    "relieved": {"label": "ほっとしている", "weight": 1},
    "bored": {"label": "退屈している", "weight": 1},
    "curious": {"label": "少し興味を持っている", "weight": 1}
  },

  "contexts": {
    "office_desk": {"label": "オフィスのデスク周り", "weight": 3},
    "home_living": {"label": "自宅リビング", "weight": 2},
    "corridor": {"label": "廊下・通路", "weight": 2},
    "train": {"label": "電車内", "weight": 1},
    "street": {"label": "屋外・歩道", "weight": 2},
    "entrance": {"label": "玄関・出入り口", "weight": 1}
  },

  "tech_focuses": {
    "weight_shift": {"label": "重心移動", "weight": 3},
    "timing_spacing": {"label": "タイミングと間", "weight": 3},
    "overlap_follow": {"label": "オーバーラップとフォロー", "weight": 2},
    "hands_fingers": {"label": "手・指の説得力", "weight": 2},
    "spine_line": {"label": "背骨のライン", "weight": 2},
    "head_gaze": {"label": "頭と視線ターゲット", "weight": 2},
    "shot_design": {"label": "ショット・構図設計", "weight": 2},
    "camera_move": {"label": "カメラワーク", "weight": 2},
    "sequence_planning": {"label": "シーケンス設計", "weight": 1}
  },

  "tag_to_tech": {
    "weight_shift": ["weight_shift"],
    "leg": ["timing_spacing", "weight_shift"],
    "spine": ["spine_line", "weight_shift"],
    "head_gaze": ["head_gaze", "timing_spacing"],
    "arm": ["hands_fingers", "timing_spacing"],
    "balance": ["weight_shift"],
    "anticipation": ["timing_spacing", "overlap_follow"],
    "timing": ["timing_spacing"],
    "story_beat": ["timing_spacing", "shot_design"],
    "camera": ["camera_move", "shot_design"],
    "sequence": ["sequence_planning", "timing_spacing"],
    "shot": ["shot_design"]
  },

  "layouts": {
    "corridor_basic": {
      "label": "まっすぐな廊下（ドア1つ）",
      "context": "corridor",
      "weight": 3,
      "notes": "5〜10m程度の直線廊下。片側にドアを1つ配置。"
    },
    "corridor_with_stairs": {
      "label": "廊下＋途中に1段の段差",
      "context": "corridor",
      "weight": 2,
      "notes": "廊下途中に1〜2段の段差や小さな階段。"
    },
    "entrance_door": {
      "label": "玄関・出入り口＋ドア1枚",
      "context": "entrance",
      "weight": 3,
      "notes": "片開きのドアと靴／マット程度のシンプルな構成。"
    },
    "street_straight": {
      "label": "まっすぐな歩道（5〜10m）",
      "context": "street",
      "weight": 3,
      "notes": "シンプルな歩道。電柱や障害物1〜2個。"
    },
    "office_desk_simple": {
      "label": "デスク＋椅子のみ",
      "context": "office_desk",
      "weight": 3,
      "notes": "最小限のオフィスデスク環境。"
    },
    "home_sofa_table": {
      "label": "ソファ＋テーブル",
      "context": "home_living",
      "weight": 3,
      "notes": "リビングの典型的な配置。"
    }
  },

  "motions": {
    "sit_to_stand": {
      "label": "椅子から立ち上がる",
      "category": "transition",
      "tags": ["leg", "spine", "weight_shift"],
      "allowed_moods": ["neutral", "tired", "rushed"],
      "allowed_contexts": ["office_desk", "home_living"],
      "complexity_weights": {"1": 1, "2": 3, "3": 1}
    },
    "stand_to_sit": {
      "label": "立ち→椅子に座る",
      "category": "transition",
      "tags": ["leg", "spine"],
      "allowed_moods": ["neutral", "tired", "bored"],
      "allowed_contexts": ["office_desk", "home_living"],
      "complexity_weights": {"1": 1, "2": 2, "3": 1}
    },
    "lean_to_wall": {
      "label": "立ち→壁にもたれる→離れる",
      "category": "transition",
      "tags": ["spine", "weight_shift"],
      "allowed_moods": ["neutral", "tired", "annoyed"],
      "allowed_contexts": ["corridor", "street"],
      "complexity_weights": {"1": 1, "2": 2, "3": 1}
    },
    "turn_180_listen": {
      "label": "呼ばれて180°振り向く",
      "category": "transition",
      "tags": ["head_gaze", "spine"],
      "allowed_moods": ["neutral", "rushed", "annoyed"],
      "allowed_contexts": ["office_desk", "corridor", "street"],
      "complexity_weights": {"1": 2, "2": 2, "3": 1}
    },
    "open_door_enter": {
      "label": "ドアを開けて中に一歩入る",
      "category": "manipulate",
      "tags": ["arm", "weight_shift", "timing"],
      "allowed_moods": ["neutral", "rushed", "tired"],
      "allowed_contexts": ["entrance", "office_desk"],
      "complexity_weights": {"1": 1, "2": 3, "3": 1},
      "preferred_layouts": ["entrance_door"]
    },
    "open_drawer_peek": {
      "label": "引き出しを開けて中を見る",
      "category": "manipulate",
      "tags": ["arm", "head_gaze"],
      "allowed_moods": ["neutral", "curious", "bored"],
      "allowed_contexts": ["office_desk", "home_living"],
      "complexity_weights": {"1": 2, "2": 2, "3": 1}
    },
    "take_phone_pocket": {
      "label": "ポケットからスマホを取り出して覗く",
      "category": "manipulate",
      "tags": ["arm", "head_gaze"],
      "allowed_moods": ["neutral", "rushed", "tired", "annoyed"],
      "allowed_contexts": ["street", "train", "corridor"],
      "complexity_weights": {"1": 2, "2": 2, "3": 1}
    },
    "type_keyboard_lean": {
      "label": "椅子に座って画面に乗り出しタイピング",
      "category": "manipulate",
      "tags": ["spine", "arm", "head_gaze"],
      "allowed_moods": ["neutral", "rushed", "tired"],
      "allowed_contexts": ["office_desk"],
      "complexity_weights": {"1": 1, "2": 3, "3": 1}
    },
    "pick_up_box": {
      "label": "床の箱を持ち上げて数歩動く",
      "category": "weight",
      "tags": ["weight_shift", "leg", "spine"],
      "allowed_moods": ["neutral", "tired", "annoyed"],
      "allowed_contexts": ["office_desk", "home_living", "corridor"],
      "complexity_weights": {"1": 1, "2": 2, "3": 2}
    },
    "shoulder_bag_put_on": {
      "label": "肩掛けカバンをかける",
      "category": "weight",
      "tags": ["arm", "weight_shift"],
      "allowed_moods": ["neutral", "rushed"],
      "allowed_contexts": ["entrance", "street"],
      "complexity_weights": {"1": 2, "2": 2, "3": 1}
    },
    "backpack_put_on": {
      "label": "リュックを持ち上げて背負う",
      "category": "weight",
      "tags": ["arm", "weight_shift", "spine"],
      "allowed_moods": ["neutral", "tired"],
      "allowed_contexts": ["entrance", "street"],
      "complexity_weights": {"1": 1, "2": 3, "3": 1}
    },
    "train_sway_recover": {
      "label": "電車の揺れでよろめいて持ち直す",
      "category": "weight",
      "tags": ["balance", "leg"],
      "allowed_moods": ["neutral", "tired", "bored"],
      "allowed_contexts": ["train"],
      "complexity_weights": {"1": 1, "2": 2, "3": 2}
    },
    "wait_standing_shift": {
      "label": "立って待ちながら体重移動",
      "category": "idle",
      "tags": ["weight_shift", "spine"],
      "allowed_moods": ["neutral", "bored", "tired"],
      "allowed_contexts": ["train", "corridor", "street"],
      "complexity_weights": {"1": 2, "2": 2, "3": 1}
    },
    "wait_sitting_adjust": {
      "label": "椅子で待ちながら姿勢・脚を組み替える",
      "category": "idle",
      "tags": ["spine", "leg"],
      "allowed_moods": ["neutral", "bored", "tired"],
      "allowed_contexts": ["home_living", "office_desk"],
      "complexity_weights": {"1": 2, "2": 2, "3": 1}
    },
    "listen_nod": {
      "label": "話を聞いて頷き・否定のジェスチャ",
      "category": "idle",
      "tags": ["head_gaze", "spine"],
      "allowed_moods": ["neutral", "annoyed", "relieved"],
      "allowed_contexts": ["office_desk", "home_living"],
      "complexity_weights": {"1": 2, "2": 2, "3": 1}
    },
    "think_decide_turn": {
      "label": "考えてから方向転換して歩き出す",
      "category": "idle",
      "tags": ["head_gaze", "spine", "leg"],
      "allowed_moods": ["neutral", "bored", "annoyed"],
      "allowed_contexts": ["corridor", "street"],
      "complexity_weights": {"1": 1, "2": 2, "3": 2}
    },
    "step_small_stair": {
      "label": "1〜2段の段差を上り下り",
      "category": "semi_sport",
      "tags": ["leg", "balance"],
      "allowed_moods": ["neutral", "rushed"],
      "allowed_contexts": ["corridor", "street"],
      "complexity_weights": {"1": 1, "2": 3, "3": 1},
      "preferred_layouts": ["corridor_with_stairs"]
    },
    "hop_over_puddle": {
      "label": "小さな水たまりを飛び越える",
      "category": "semi_sport",
      "tags": ["leg", "anticipation"],
      "allowed_moods": ["neutral", "rushed"],
      "allowed_contexts": ["street"],
      "complexity_weights": {"1": 1, "2": 2, "3": 2}
    },
    "drink_bottle": {
      "label": "立ってボトルを飲んで少し脱力",
      "category": "semi_sport",
      "tags": ["arm", "spine"],
      "allowed_moods": ["neutral", "tired", "relieved"],
      "allowed_contexts": ["street", "train", "office_desk"],
      "complexity_weights": {"1": 2, "2": 2, "3": 1}
    },
    "roll_up_sleeves": {
      "label": "袖をまくって構えが変わる",
      "category": "semi_sport",
      "tags": ["arm", "spine"],
      "allowed_moods": ["neutral", "rushed", "annoyed"],
      "allowed_contexts": ["office_desk", "street"],
      "complexity_weights": {"1": 2, "2": 2, "3": 1}
    },
    "shoulder_support_step": {
      "label": "相手の肩を支えて一歩踏み出す",
      "category": "weight",
      "tags": ["weight_shift", "leg", "spine", "arm", "balance"],
      "allowed_moods": ["neutral", "tired", "rushed"],
      "allowed_contexts": ["corridor", "street", "entrance"],
      "complexity_weights": {"1": 1, "2": 2, "3": 2}
    },
    "support_step_down_stair": {
      "label": "誰かを支えながら段差を一段降りる",
      "category": "weight",
      "tags": ["leg", "balance", "weight_shift", "spine", "arm"],
      "allowed_moods": ["neutral", "tired", "rushed"],
      "allowed_contexts": ["corridor", "entrance"],
      "complexity_weights": {"1": 1, "2": 3, "3": 1},
      "preferred_layouts": ["corridor_with_stairs"]
    },
    "stumble_with_load": {
      "label": "重い荷物でつまずき体勢を立て直す",
      "category": "weight",
      "tags": ["balance", "leg", "weight_shift", "anticipation"],
      "allowed_moods": ["neutral", "rushed", "annoyed"],
      "allowed_contexts": ["corridor", "street", "entrance"],
      "complexity_weights": {"1": 1, "2": 2, "3": 2}
    },
    "assist_sit_other": {
      "label": "相手を支えて椅子に座らせる",
      "category": "transition",
      "tags": ["weight_shift", "leg", "spine", "arm"],
      "allowed_moods": ["neutral", "tired", "relieved"],
      "allowed_contexts": ["office_desk", "home_living"],
      "complexity_weights": {"1": 1, "2": 2, "3": 2}
    },
    "door_peek_then_go": {
      "label": "出口を覗いて一瞬ためらい踏み出す",
      "category": "idle",
      "tags": ["head_gaze", "anticipation", "weight_shift"],
      "allowed_moods": ["neutral", "rushed", "tired"],
      "allowed_contexts": ["corridor", "entrance"],
      "complexity_weights": {"1": 1, "2": 2, "3": 2},
      "preferred_layouts": ["entrance_door", "corridor_basic"]
    },
    "catch_fall_to_knee": {
      "label": "よろめいて片膝をつき体勢を戻す",
      "category": "weight",
      "tags": ["balance", "leg", "spine", "weight_shift"],
      "allowed_moods": ["neutral", "tired", "rushed"],
      "allowed_contexts": ["corridor", "street", "train"],
      "complexity_weights": {"1": 1, "2": 2, "3": 2}
    },
    "breathe_then_run": {
      "label": "立ち止まり大きく息を吸って走り出す",
      "category": "semi_sport",
      "tags": ["spine", "head_gaze", "leg", "anticipation"],
      "allowed_moods": ["neutral", "rushed", "tired"],
      "allowed_contexts": ["corridor", "street"],
      "complexity_weights": {"1": 1, "2": 2, "3": 2}
    },
    "give_up_then_push": {
      "label": "諦めかけてからもう一度動き出す",
      "category": "idle",
      "tags": ["head_gaze", "spine", "weight_shift", "anticipation", "story_beat"],
      "allowed_moods": ["tired", "annoyed", "relieved"],
      "allowed_contexts": ["corridor", "street", "office_desk"],
      "complexity_weights": {"1": 1, "2": 2, "3": 2},
      "description": "立ち止まり、うつむき、力を込めて再び前進する。ビート練習用。"
    },
    "door_peek_retreat_commit": {
      "label": "出口を覗き、一度引き戻されてから踏み出す",
      "category": "idle",
      "tags": ["head_gaze", "anticipation", "weight_shift", "story_beat"],
      "allowed_moods": ["rushed", "tired", "neutral"],
      "allowed_contexts": ["corridor", "entrance"],
      "complexity_weights": {"1": 1, "2": 2, "3": 2},
      "preferred_layouts": ["entrance_door", "corridor_basic"],
      "requires_layout": true,
      "description": "ドアを覗く→何かに気づいて引き戻る→決意して踏み出す。3ビート構成。"
    },
    "choose_help_over_escape": {
      "label": "逃げかけてから助けに戻る",
      "category": "transition",
      "tags": ["leg", "spine", "head_gaze", "weight_shift", "story_beat"],
      "allowed_moods": ["rushed", "annoyed", "relieved"],
      "allowed_contexts": ["corridor", "street", "entrance"],
      "complexity_weights": {"1": 1, "2": 2, "3": 2},
      "description": "走り出す→振り返る→戻る決断をして反転。ビート練習用。"
    },
    "exhausted_pause_then_run": {
      "label": "限界で立ち止まり、息を整えて再び走り出す",
      "category": "semi_sport",
      "tags": ["spine", "head_gaze", "leg", "anticipation", "story_beat"],
      "allowed_moods": ["tired", "rushed"],
      "allowed_contexts": ["corridor", "street"],
      "complexity_weights": {"1": 1, "2": 2, "3": 2},
      "description": "疲労で停止→深呼吸→再加速。体力の限界とビートを表現。"
    },
    "same_action_two_shots": {
      "label": "同じ動きをロングとクローズの2ショットで撮る",
      "category": "sequence",
      "tags": ["camera", "shot", "sequence"],
      "allowed_moods": ["neutral"],
      "allowed_contexts": ["office_desk", "corridor", "street"],
      "complexity_weights": {"1": 0, "2": 2, "3": 2},
      "description": "メタタスク：別のモーションカードを1枚引き、それをロングショットとクローズアップの2つで制作する。"
    },
    "corridor_escape_layout": {
      "label": "廊下レイアウトと逃走カメラのプリビズ",
      "category": "sequence",
      "tags": ["camera", "shot", "sequence"],
      "allowed_moods": ["neutral"],
      "allowed_contexts": ["corridor"],
      "complexity_weights": {"1": 0, "2": 1, "3": 3},
      "requires_layout": true,
      "preferred_layouts": ["corridor_basic", "corridor_with_stairs"],
      "description": "廊下レイアウトを組み、キャラが走って逃げるカメラワークをプリビズする。レイアウト必須。"
    },
    "chain_two_motions": {
      "label": "モーションカード2枚を繋いで5〜10秒のシーケンスにする",
      "category": "sequence",
      "tags": ["sequence", "story_beat"],
      "allowed_moods": ["neutral"],
      "allowed_contexts": ["corridor", "street", "entrance", "home_living", "office_desk"],
      "complexity_weights": {"1": 0, "2": 1, "3": 3},
      "description": "メタタスク：別の動作カードを2枚引き、自然な前後関係になるよう5〜10秒のシーケンスを組む。"
    }
  }
}
